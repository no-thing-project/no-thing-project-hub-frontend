"use strict";(self.webpackChunkgate_from_nothingproject_front_end=self.webpackChunkgate_from_nothingproject_front_end||[]).push([[577],{7958:(e,r,n)=>{n.r(r),n.d(r,{default:()=>k});var t=n(5043),o=n(9412),a=n(4490),i=n(6258),s=n(1596),l=n(7353),d=n(4496),c=n(7784),u=n(1787),p=n(7392),x=n(1906),h=n(8446),g=n(1149),m=n(3632),v=n(3559),y=n(6213),A=n(1675),b=n(3488),f=n(6552),w=n(1654),j=n(579);const k=e=>{let{theme:r,onLogin:n}=e;const[k,C]=(0,t.useState)(""),[S,P]=(0,t.useState)(""),[$,_]=(0,t.useState)(""),[L,R]=(0,t.useState)(!1),[D,I]=(0,t.useState)(!1),[W,E]=(0,t.useState)(!1),{showNotification:M}=((0,A.Zp)(),(0,w.hN)()),T=(0,t.useRef)(null),z=()=>{E(!1),_("")};return(0,t.useEffect)((()=>{W&&T.current&&T.current.focus()}),[W]),(0,j.jsx)(o.A,{theme:r,children:(0,j.jsxs)(a.A,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100dvh"},children:[(0,j.jsx)(i.A,{in:!0,timeout:600,children:(0,j.jsxs)(s.A,{elevation:6,sx:{p:r.spacing(5),borderRadius:r.shape.borderRadiusMedium,backgroundColor:"background.paper",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.1)",width:"100%",maxWidth:r.custom.loginPaperMaxWidth,textAlign:"center"},children:[(0,j.jsxs)(l.A,{sx:{textAlign:"center",mb:r.spacing(3)},children:[(0,j.jsx)(d.A,{variant:"h4",sx:{color:"text.primary",fontWeight:600},children:"Sign In"}),(0,j.jsx)(d.A,{variant:"body1",sx:{color:"text.secondary",mt:r.spacing(1)},children:"Sign in to continue"})]}),(0,j.jsxs)(l.A,{component:"form",onSubmit:async e=>{e.preventDefault(),I(!0);const r=k?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k)?k.length>255?"Email cannot exceed 255 characters":S?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d@$!%*?&]{8,}$/.test(S)?S.length>128?"Password cannot exceed 128 characters":null:"Password must be 8+ chars with uppercase, lowercase, and number":"Password is required":"Please enter a valid email address":"Email is required";if(r)return M(r,"error"),void I(!1);try{const e=await y.A.post(`${b.A.REACT_APP_HUB_API_URL}/api/v1/auth/login`,{email:k,password:S}),{token:r,profile:t}=e.data;if(!r||!t)throw new Error("Invalid login response: Missing token or profile");localStorage.setItem("token",r),n(r,t),M("Login successful! Redirecting...","success")}catch(c){var t,o,a,i,s,l,d;console.error("Login error:",(null===(t=c.response)||void 0===t?void 0:t.data)||c);const e=401===(null===(o=c.response)||void 0===o?void 0:o.status)?"Invalid email or password. Please try again.":(null===(a=c.response)||void 0===a||null===(i=a.data)||void 0===i||null===(s=i.errors)||void 0===s?void 0:s[0])||(null===(l=c.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||"Network error, please try again";M(e,"error"),I(!1)}},noValidate:!0,sx:{mt:r.spacing(2),textAlign:"left"},"aria-label":"Login form",children:[(0,j.jsx)(c.A,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:k,onChange:e=>C(e.target.value),InputProps:{notched:!1},sx:f.z9,required:!0}),(0,j.jsx)(c.A,{label:"Password",type:L?"text":"password",variant:"outlined",fullWidth:!0,margin:"normal",value:S,onChange:e=>P(e.target.value),sx:f.z9,InputProps:{notched:!1,endAdornment:(0,j.jsx)(u.A,{position:"end",children:(0,j.jsx)(p.A,{onClick:()=>R(!L),edge:"end","aria-label":L?"Hide password":"Show password",sx:{color:"text.primary"},children:L?(0,j.jsx)(m.A,{}):(0,j.jsx)(v.A,{})})})},required:!0}),(0,j.jsx)(l.A,{sx:{display:"flex",flexDirection:"column",mt:r.spacing(3),gap:r.spacing(3),alignItems:"center"},children:(0,j.jsx)(x.A,{type:"submit",variant:"contained",fullWidth:!0,disabled:D,sx:f.nT,"aria-label":"Sign in",children:D?"Signing In...":"Sign In"})}),(0,j.jsx)(l.A,{sx:{mt:r.spacing(2),textAlign:"center"},children:(0,j.jsx)(x.A,{variant:"text",sx:{color:"text.primary",textTransform:"none",fontSize:"16px",padding:"8px 20px",borderRadius:"20px","&:hover":{textDecoration:"underline"}},onClick:()=>E(!0),"aria-label":"Forgot password",children:"Forgot password?"})}),(0,j.jsx)(l.A,{sx:{mt:r.spacing(2),textAlign:"center"},children:(0,j.jsxs)(d.A,{variant:"body1",sx:{color:"text.secondary"},children:["Don\u2019t have an account?"," ",(0,j.jsx)(h.A,{href:"https://secure.wayforpay.com/donate/NoThingProject",target:"_blank",rel:"noopener noreferrer",sx:{color:"text.primary",textDecoration:"none",fontWeight:500,"&:hover":{textDecoration:"underline"}},"aria-label":"Sign up",children:"Sign Up"})]})})]})]})}),(0,j.jsx)(g.A,{open:W,onClose:z,closeAfterTransition:!0,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,j.jsx)(i.A,{in:W,children:(0,j.jsxs)(l.A,{sx:{backgroundColor:"background.paper",borderRadius:r.shape.borderRadiusMedium,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.1)",p:r.spacing(5),width:"100%",maxWidth:r.custom.loginPaperMaxWidth},ref:T,tabIndex:-1,role:"dialog","aria-labelledby":"password-recovery-title",children:[(0,j.jsx)(d.A,{id:"password-recovery-title",variant:"h6",sx:{mb:r.spacing(2),fontWeight:600},children:"Password Recovery"}),(0,j.jsx)(c.A,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:$,onChange:e=>_(e.target.value),InputProps:{notched:!1},sx:f.z9,required:!0}),(0,j.jsx)(x.A,{variant:"contained",fullWidth:!0,onClick:async()=>{const e=$?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($)?$.length>255?"Email cannot exceed 255 characters":null:"Please enter a valid email address":"Email is required";if(e)M(e,"error");else try{await y.A.post(`${b.A.REACT_APP_HUB_API_URL}/api/v1/auth/forgot-password`,{email:$}),M("An email with a password reset link has been sent!","success"),setTimeout((()=>z()),2e3)}catch(s){var r,n,t,o,a,i;console.error("Forgot password error:",(null===(r=s.response)||void 0===r?void 0:r.data)||s);const e=(null===(n=s.response)||void 0===n||null===(t=n.data)||void 0===t||null===(o=t.errors)||void 0===o?void 0:o[0])||(null===(a=s.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Network error, please try again";M(e,"error")}},sx:f.nT,"aria-label":"Send password recovery email",children:"Send Email"})]})})})]})})}},8446:(e,r,n)=>{n.d(r,{A:()=>k});var t=n(5043),o=n(8387),a=n(1546),i=n(8610),s=n(8218),l=n(6803),d=n(4535),c=n(6240),u=n(6262),p=n(2445),x=n(8206),h=n(4496),g=n(2532),m=n(2372);function v(e){return(0,m.Ay)("MuiLink",e)}const y=(0,g.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var A=n(1724);const b=e=>{let{theme:r,ownerState:n}=e;const t=n.color,o=(0,A.Yn)(r,`palette.${t}.main`,!1)||(0,A.Yn)(r,`palette.${t}`,!1)||n.color,i=(0,A.Yn)(r,`palette.${t}.mainChannel`)||(0,A.Yn)(r,`palette.${t}Channel`);return"vars"in r&&i?`rgba(${i} / 0.4)`:(0,a.X4)(o,.4)};var f=n(579);const w={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},j=(0,d.Ay)(h.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.root,r[`underline${(0,l.A)(n.underline)}`],"button"===n.component&&r.button]}})((0,u.A)((e=>{let{theme:r}=e;return{variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:e=>{let{underline:r,ownerState:n}=e;return"always"===r&&"inherit"!==n.color},style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(r.palette).filter((0,p.A)()).map((e=>{let[n]=e;return{props:{underline:"always",color:n},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette[n].mainChannel} / 0.4)`:(0,a.X4)(r.palette[n].main,.4)}}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette.text.primaryChannel} / 0.4)`:(0,a.X4)(r.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette.text.secondaryChannel} / 0.4)`:(0,a.X4)(r.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(r.vars||r).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${y.focusVisible}`]:{outline:"auto"}}}]}}))),k=t.forwardRef((function(e,r){const n=(0,x.b)({props:e,name:"MuiLink"}),a=(0,c.A)(),{className:d,color:u="primary",component:p="a",onBlur:h,onFocus:g,TypographyClasses:m,underline:y="always",variant:A="inherit",sx:k,...C}=n,[S,P]=t.useState(!1),$={...n,color:u,component:p,focusVisible:S,underline:y,variant:A},_=(e=>{const{classes:r,component:n,focusVisible:t,underline:o}=e,a={root:["root",`underline${(0,l.A)(o)}`,"button"===n&&"button",t&&"focusVisible"]};return(0,i.A)(a,v,r)})($);return(0,f.jsx)(j,{color:u,className:(0,o.A)(_.root,d),classes:m,component:p,onBlur:e=>{(0,s.A)(e.target)||P(!1),h&&h(e)},onFocus:e=>{(0,s.A)(e.target)&&P(!0),g&&g(e)},ref:r,ownerState:$,variant:A,...C,sx:[...void 0===w[u]?[{color:u}]:[],...Array.isArray(k)?k:[k]],style:{...C.style,..."always"===y&&"inherit"!==u&&!w[u]&&{"--Link-underlineColor":b({theme:a,ownerState:$})}}})}))}}]);
//# sourceMappingURL=577.ebeb2081.chunk.js.map