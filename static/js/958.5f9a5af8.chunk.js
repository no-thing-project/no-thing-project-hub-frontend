"use strict";(self.webpackChunkgate_from_nothingproject_front_end=self.webpackChunkgate_from_nothingproject_front_end||[]).push([[958],{7958:(e,r,n)=>{n.r(r),n.d(r,{default:()=>S});var t=n(5043),o=n(9412),a=n(4490),i=n(6258),s=n(1596),l=n(7353),d=n(4496),c=n(7784),u=n(1787),p=n(7392),x=n(1906),h=n(8446),m=n(1149),g=n(794),v=n(7254),A=n(3632),y=n(3559),b=n(6213),w=n(1675),f=n(3488),j=n(6552),C=n(579);const S=e=>{let{theme:r,onLogin:n}=e;const[S,k]=(0,t.useState)(""),[P,D]=(0,t.useState)(""),[$,_]=(0,t.useState)(""),[L,R]=(0,t.useState)(""),[W,I]=(0,t.useState)(""),[E,T]=(0,t.useState)(!1),[z,M]=(0,t.useState)(!1),[H,q]=(0,t.useState)(!1),B=(0,w.Zp)(),N=()=>{T(!1),I(""),_(""),R("")},V=()=>{_(""),R("")};return(0,t.useEffect)((()=>{if(L){const e=setTimeout((()=>B("/home")),3e3);return()=>clearTimeout(e)}}),[L,B]),(0,C.jsx)(o.A,{theme:r,children:(0,C.jsxs)(a.A,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100dvh"},children:[(0,C.jsx)(i.A,{in:!0,timeout:600,children:(0,C.jsxs)(s.A,{elevation:6,sx:{p:r.spacing(5),borderRadius:r.shape.borderRadiusMedium,backgroundColor:"background.paper",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.1)",width:"100%",maxWidth:r.custom.loginPaperMaxWidth,textAlign:"center"},children:[(0,C.jsxs)(l.A,{sx:{textAlign:"center",mb:r.spacing(3)},children:[(0,C.jsx)(d.A,{variant:"h4",sx:{color:"text.primary",fontWeight:600},children:"Sign In"}),(0,C.jsx)(d.A,{variant:"body1",sx:{color:"text.secondary",mt:r.spacing(1)},children:"Sign in to continue"})]}),(0,C.jsxs)(l.A,{component:"form",onSubmit:async e=>{e.preventDefault(),_(""),R(""),q(!0);const r=S?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S)?S.length>255?"Email cannot exceed 255 characters":P?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d@$!%*?&]{8,}$/.test(P)?P.length>128?"Password cannot exceed 128 characters":null:"Password must be 8+ chars with uppercase, lowercase, and number":"Password is required":"Please enter a valid email address":"Email is required";if(r)return _(r),void q(!1);try{const e=await b.A.post(`${f.A.REACT_APP_HUB_API_URL}/api/v1/auth/login`,{email:S,password:P}),{token:r,profile:t}=e.data;if(!r||!t)throw new Error("Invalid login response: Missing token or profile");localStorage.setItem("token",r),n(r,t),R("Login successful! Redirecting...")}catch(c){var t,o,a,i,s,l,d;console.error("Login error:",(null===(t=c.response)||void 0===t?void 0:t.data)||c);const e=401===(null===(o=c.response)||void 0===o?void 0:o.status)?"Invalid email or password. Please try again.":(null===(a=c.response)||void 0===a||null===(i=a.data)||void 0===i||null===(s=i.errors)||void 0===s?void 0:s[0])||(null===(l=c.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||"Network error, please try again";_(e),q(!1)}},noValidate:!0,sx:{mt:r.spacing(2),textAlign:"left"},"aria-label":"Login form",children:[(0,C.jsx)(c.A,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:S,onChange:e=>k(e.target.value),InputProps:{notched:!1},sx:j.z9,required:!0,error:!!$&&$.includes("Email")}),(0,C.jsx)(c.A,{label:"Password",type:z?"text":"password",variant:"outlined",fullWidth:!0,margin:"normal",value:P,onChange:e=>D(e.target.value),sx:j.z9,InputProps:{notched:!1,endAdornment:(0,C.jsx)(u.A,{position:"end",children:(0,C.jsx)(p.A,{onClick:()=>M(!z),edge:"end","aria-label":z?"Hide password":"Show password",sx:{color:"text.primary"},children:z?(0,C.jsx)(A.A,{}):(0,C.jsx)(y.A,{})})})},required:!0,error:!!$&&$.includes("Password"),"aria-describedby":$&&$.includes("Password")?"password-error":void 0}),(0,C.jsx)(l.A,{sx:{display:"flex",flexDirection:"column",mt:r.spacing(3),gap:r.spacing(3),alignItems:"center"},children:(0,C.jsx)(x.A,{type:"submit",variant:"contained",fullWidth:!0,disabled:H,sx:j.nT,"aria-label":"Sign in",children:H?"Signing In...":"Sign In"})}),(0,C.jsx)(l.A,{sx:{mt:r.spacing(2),textAlign:"center"},children:(0,C.jsx)(x.A,{variant:"text",sx:{color:"text.primary",textTransform:"none",fontSize:"16px",padding:"8px 20px",borderRadius:"20px","&:hover":{textDecoration:"underline"}},onClick:()=>T(!0),"aria-label":"Forgot password",children:"Forgot password?"})}),(0,C.jsx)(l.A,{sx:{mt:r.spacing(2),textAlign:"center"},children:(0,C.jsxs)(d.A,{variant:"body1",sx:{color:"text.secondary"},children:["Don\u2019t have an account?"," ",(0,C.jsx)(h.A,{href:"https://secure.wayforpay.com/donate/NoThingProject",target:"_blank",rel:"noopener noreferrer",sx:{color:"text.primary",textDecoration:"none",fontWeight:500,"&:hover":{textDecoration:"underline"}},"aria-label":"Sign up",children:"Sign Up"})]})})]})]})}),(0,C.jsx)(m.A,{open:E,onClose:N,closeAfterTransition:!0,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,C.jsx)(i.A,{in:E,children:(0,C.jsxs)(l.A,{sx:{backgroundColor:"background.paper",borderRadius:r.shape.borderRadiusMedium,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.1)",p:r.spacing(5),width:"100%",maxWidth:r.custom.loginPaperMaxWidth},role:"dialog","aria-labelledby":"password-recovery-title",children:[(0,C.jsx)(d.A,{id:"password-recovery-title",variant:"h6",sx:{mb:r.spacing(2),fontWeight:600},children:"Password Recovery"}),(0,C.jsx)(c.A,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:W,onChange:e=>I(e.target.value),InputProps:{notched:!1},sx:j.z9,required:!0,error:!!$&&$.includes("Email")}),(0,C.jsx)(x.A,{variant:"contained",fullWidth:!0,onClick:async()=>{_(""),R("");const e=W?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(W)?W.length>255?"Email cannot exceed 255 characters":null:"Please enter a valid email address":"Email is required";if(e)_(e);else try{await b.A.post(`${f.A.REACT_APP_HUB_API_URL}/api/v1/auth/forgot-password`,{email:W}),R("An email with a password reset link has been sent!"),setTimeout((()=>N()),2e3)}catch(s){var r,n,t,o,a,i;console.error("Forgot password error:",(null===(r=s.response)||void 0===r?void 0:r.data)||s);const e=(null===(n=s.response)||void 0===n||null===(t=n.data)||void 0===t||null===(o=t.errors)||void 0===o?void 0:o[0])||(null===(a=s.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Network error, please try again";_(e)}},sx:j.nT,"aria-label":"Send password recovery email",children:"Send Email"})]})})}),(0,C.jsx)(g.A,{open:Boolean($),autoHideDuration:3e3,onClose:V,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,C.jsx)(v.A,{onClose:V,severity:"error",sx:{width:"100%"},role:"alert",children:$})}),(0,C.jsx)(g.A,{open:Boolean(L),autoHideDuration:3e3,onClose:V,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,C.jsx)(v.A,{onClose:V,severity:"success",sx:{width:"100%"},role:"alert",children:L})})]})})}},8446:(e,r,n)=>{n.d(r,{A:()=>C});var t=n(5043),o=n(8387),a=n(1546),i=n(8610),s=n(8218),l=n(6803),d=n(4535),c=n(6240),u=n(6262),p=n(2445),x=n(8206),h=n(4496),m=n(2532),g=n(2372);function v(e){return(0,g.Ay)("MuiLink",e)}const A=(0,m.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var y=n(1724);const b=e=>{let{theme:r,ownerState:n}=e;const t=n.color,o=(0,y.Yn)(r,`palette.${t}.main`,!1)||(0,y.Yn)(r,`palette.${t}`,!1)||n.color,i=(0,y.Yn)(r,`palette.${t}.mainChannel`)||(0,y.Yn)(r,`palette.${t}Channel`);return"vars"in r&&i?`rgba(${i} / 0.4)`:(0,a.X4)(o,.4)};var w=n(579);const f={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},j=(0,d.Ay)(h.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.root,r[`underline${(0,l.A)(n.underline)}`],"button"===n.component&&r.button]}})((0,u.A)((e=>{let{theme:r}=e;return{variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:e=>{let{underline:r,ownerState:n}=e;return"always"===r&&"inherit"!==n.color},style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(r.palette).filter((0,p.A)()).map((e=>{let[n]=e;return{props:{underline:"always",color:n},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette[n].mainChannel} / 0.4)`:(0,a.X4)(r.palette[n].main,.4)}}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette.text.primaryChannel} / 0.4)`:(0,a.X4)(r.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette.text.secondaryChannel} / 0.4)`:(0,a.X4)(r.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(r.vars||r).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${A.focusVisible}`]:{outline:"auto"}}}]}}))),C=t.forwardRef((function(e,r){const n=(0,x.b)({props:e,name:"MuiLink"}),a=(0,c.A)(),{className:d,color:u="primary",component:p="a",onBlur:h,onFocus:m,TypographyClasses:g,underline:A="always",variant:y="inherit",sx:C,...S}=n,[k,P]=t.useState(!1),D={...n,color:u,component:p,focusVisible:k,underline:A,variant:y},$=(e=>{const{classes:r,component:n,focusVisible:t,underline:o}=e,a={root:["root",`underline${(0,l.A)(o)}`,"button"===n&&"button",t&&"focusVisible"]};return(0,i.A)(a,v,r)})(D);return(0,w.jsx)(j,{color:u,className:(0,o.A)($.root,d),classes:g,component:p,onBlur:e=>{(0,s.A)(e.target)||P(!1),h&&h(e)},onFocus:e=>{(0,s.A)(e.target)&&P(!0),m&&m(e)},ref:r,ownerState:D,variant:y,...S,sx:[...void 0===f[u]?[{color:u}]:[],...Array.isArray(C)?C:[C]],style:{...S.style,..."always"===A&&"inherit"!==u&&!f[u]&&{"--Link-underlineColor":b({theme:a,ownerState:D})}}})}))}}]);
//# sourceMappingURL=958.5f9a5af8.chunk.js.map