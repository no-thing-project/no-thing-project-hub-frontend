"use strict";(self.webpackChunkgate_from_nothingproject_front_end=self.webpackChunkgate_from_nothingproject_front_end||[]).push([[233],{1318:(e,i,t)=>{t.d(i,{A:()=>_});var a=t(5043),r=t(6240),n=t(7353),s=t(4496),l=t(1637),o=t(1906),d=t(6162),c=t(3546),u=t(5173),m=t.n(u),v=t(6552),x=t(3807),p=t(579);const b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},h={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.2}}},A=["gates","classes","boards"],f=(0,a.memo)((e=>{let{item:i,itemKey:t,entityType:a,handleFavorite:r,setEditingItem:n,setItemToDelete:s,setDeleteDialogOpen:l,handleManageMembers:o,navigate:c,currentUser:u,token:m,isLastItem:v,lastItemRef:b}=e;return(0,p.jsx)(d.P.div,{variants:g,role:"gridcell",ref:v?b:null,children:(0,p.jsx)(x.A,{item:i,entityType:a,itemId:i[t],handleFavorite:r,setEditingItem:n,setItemToDelete:s,setDeleteDialogOpen:l,handleManageMembers:o,navigate:c,currentUser:u,token:m})})}));f.propTypes={item:m().object.isRequired,itemKey:m().string.isRequired,entityType:m().string.isRequired,handleFavorite:m().func,setEditingItem:m().func,setItemToDelete:m().func,setDeleteDialogOpen:m().func,handleManageMembers:m().func,navigate:m().func.isRequired,currentUser:m().object,token:m().string,isLastItem:m().bool,lastItemRef:m().func};const y=e=>{let{items:i,cardComponent:t,itemKey:a,gridType:u,handleFavorite:m,setEditingItem:x,setItemToDelete:g,setDeleteDialogOpen:y,handleManageMembers:_,navigate:j,currentUser:C,token:w,onCreateNew:k,lastItemRef:I,hasMore:S,loading:E}=e;(0,r.A)();if(!A.includes(u))return console.error(`Invalid gridType: ${u}. Expected one of ${A.join(", ")}`),(0,p.jsx)(n.A,{sx:{p:2,textAlign:"center",color:"error.main"},children:(0,p.jsx)(s.A,{variant:"body2",children:"Invalid grid type."})});const F={gates:{text:"No gates found. Create a new gate to get started!",button:"Create Gate"},classes:{text:"No classes found. Create a new class to get started!",button:"Create Class"},boards:{text:"No boards found. Create a new board to get started!",button:"Create Board"}}[u]||{text:"No items found. Create a new item to get started!",button:"Create Item"},M=u.slice(0,-1);return E&&0===i.length?(0,p.jsx)(n.A,{sx:{...v.iH,my:{xs:10,sm:15,md:20},display:"flex",justifyContent:"center",alignItems:"center"},children:(0,p.jsx)(d.P.div,{variants:h,initial:"hidden",animate:"visible",children:(0,p.jsx)(l.A,{size:40,color:"primary","aria-label":"Loading items"})})}):(0,p.jsx)(c.N,{children:0!==i.length||S?(0,p.jsxs)(d.P.section,{initial:"initial",animate:"visible",transition:{},role:"grid","aria-label":`${u} grid`,children:[(0,p.jsx)(n.A,{sx:{...v.iH,...v.LE.container,gridTemplateColumns:(()=>{const e={xs:"repeat(1, 1fr)",sm:"repeat(auto-fill, minmax(280px, 1fr))",md:"repeat(auto-fill, minmax(300px, 1fr))",lg:"repeat(auto-fill, minmax(320px, 1fr))"};return"gates"===u?{...e,md:"repeat(auto-fill, minmax(320px, 1fr))",lg:"repeat(auto-fill, minmax(350px, 1fr))"}:e})(),gap:{xs:2,sm:3,md:4},mt:{xs:"56px",sm:"64px"},my:{xs:4,sm:6},boxSizing:"border-box"},children:(0,p.jsx)(c.N,{initial:!1,children:i.map(((e,t)=>(0,p.jsx)(f,{item:e,itemKey:a,entityType:M,handleFavorite:m,setEditingItem:x,setItemToDelete:g,setDeleteDialogOpen:y,handleManageMembers:_,navigate:j,currentUser:C,token:w,isLastItem:S&&t===i.length-1,lastItemRef:I},e[a])))})}),(0,p.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:2,textAlign:"center"},"aria-live":"polite",children:[S&&E&&(0,p.jsx)(d.P.div,{variants:h,initial:"hidden",animate:"visible",children:(0,p.jsx)(l.A,{size:24,color:"primary","aria-label":"Loading more items"})}),!S&&i.length>0&&(0,p.jsxs)(s.A,{variant:"body2",color:"text.secondary",children:["No more ",u," to load."]})]})]},`${u}-grid`):(0,p.jsx)(d.P.div,{variants:b,initial:"hidden",animate:"visible",transition:{duration:.3},children:(0,p.jsxs)(n.A,{sx:{...v.iH,my:{xs:10,sm:15,md:20},px:{xs:2,sm:3},textAlign:"center"},children:[(0,p.jsx)(s.A,{variant:"body1",sx:{...v.x1,fontSize:{xs:"1rem",sm:"1.1rem",md:"1.25rem"},color:"text.primary",mb:2},"aria-label":F.text,children:F.text}),k&&(0,p.jsx)(o.A,{variant:"contained",onClick:k,sx:{mt:2},"aria-label":`Create a new ${M}`,children:F.button})]})},`no-${u}`)})};y.defaultProps={handleFavorite:()=>{},setEditingItem:()=>{},setItemToDelete:()=>{},setDeleteDialogOpen:()=>{},handleManageMembers:()=>{},lastItemRef:()=>{},hasMore:!1,loading:!1};const _=a.memo(y)},1407:(e,i,t)=>{t.d(i,{A:()=>n});var a=t(9662),r=t(579);const n=(0,a.A)((0,r.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"}),"Forum")},1922:(e,i,t)=>{t.d(i,{A:()=>p});var a=t(5043),r=t(6240),n=t(7353),s=t(1906),l=t(7784),o=t(6162),d=t(6552),c=t(3536),u=t(579);const m={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0}},v=["all","public","private","favorited"],x=e=>{let{type:i,quickFilter:t,setQuickFilter:x,searchQuery:p,setSearchQuery:b}=e;const g=(0,r.A)(),[h,A]=(0,a.useState)(p),f=(0,a.useCallback)((0,c.debounce)((e=>b(e)),300),[b]),y=(0,a.useCallback)((e=>{const i=e.target.value;A(i),f(i)}),[f]),_=(0,a.useCallback)((e=>{"Enter"===e.key&&b(h)}),[h,b]);i.charAt(0).toUpperCase(),i.slice(1);return(0,u.jsx)(o.P.div,{initial:"hidden",animate:"visible",variants:m,transition:{duration:.3},children:(0,u.jsxs)(n.A,{sx:{maxWidth:1500,mx:"auto",display:"flex",flexDirection:{xs:"column",sm:"row"},mb:{xs:2,sm:3},alignItems:{xs:"center",sm:"center"}},children:[(0,u.jsxs)(n.A,{sx:{display:"flex",gap:{xs:.5,sm:1.2},alignItems:"center",width:{xs:"100%",sm:"auto"}},children:[(0,u.jsx)(n.A,{sx:{display:"flex",gap:{xs:.5,sm:1},overflowX:{xs:"auto",sm:"visible"},justifyContent:{xs:"center",sm:"center"},"&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none"},children:v.map((e=>(0,u.jsx)(s.A,{variant:t===e?"contained":"outlined",onClick:()=>x(e),sx:{minWidth:{xs:60,sm:100},fontSize:{xs:"0.65rem",sm:"0.875rem"},padding:{xs:"4px 8px",sm:"6px 16px"},backgroundColor:t===e?"primary.main":"background.default",color:t===e?"primary.contrastText":"text.primary",borderColor:t===e?"primary.main":"text.primary",borderRadius:g.shape.borderRadiusSmall,"&:hover":{backgroundColor:t===e?"primary.dark":"background.hover"},whiteSpace:"nowrap"},"aria-label":`Show ${e} ${i}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))}),(0,u.jsx)(n.A,{sx:{display:{xs:"none",sm:"center"},alignItems:"center"},children:(0,u.jsx)(l.A,{variant:"outlined",placeholder:`Search ${i}...`,value:h,onChange:y,onKeyPress:_,sx:{...d.yZ,maxWidth:{sm:300}},inputProps:{"aria-label":`Search ${i} by name`}})})]}),(0,u.jsx)(n.A,{sx:{display:{xs:"flex",sm:"none"},width:"100%",alignItems:"center",justifyContent:"center"},children:(0,u.jsx)(l.A,{variant:"outlined",placeholder:`Search ${i}...`,value:h,onChange:y,onKeyPress:_,sx:{...d.yZ,width:"100%",maxWidth:500},inputProps:{"aria-label":`Search ${i} by name`}})})]})})},p=a.memo(x)},2334:(e,i,t)=>{t.d(i,{HU:()=>n,ak:()=>a,jW:()=>r});const a=[{value:"all",label:"All Gates"},{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"favorite",label:"Favorite"}],r=[{value:"all",label:"All Classes"},{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"favorite",label:"Favorite"}],n=[{value:"all",label:"All Boards"},{value:"public",label:"Public"},{value:"private",label:"Private"},{value:"favorite",label:"Favorite"}]},3769:(e,i,t)=>{t.d(i,{A:()=>E});var a=t(5043),r=t(6240),n=t(7353),s=t(4496),l=t(7392),o=t(2110),d=t(6494),c=t(8185),u=t(1906),m=t(378),v=t(2143),x=t(3845),p=t(6973),b=t(9320),g=t(8942),h=t(8558),A=t(6552),f=t(3290),y=t(579);const _=f.i7`
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
`,j=["IGNITION","VISIONARY","MOMENTUM","CREATION","CORE"],C={BELIEVER:{gradient:"linear-gradient(45deg, #A1A1A1, #707070)"},NOVICE:{gradient:"linear-gradient(45deg, #BDC3C7, #2C3E50)"},SUPPORTER:{gradient:"linear-gradient(45deg, #7F8C8D, #95A5A6)"},INITIATE:{gradient:"linear-gradient(45deg, #FAD7A0, #E67E22)"},PIONEER:{gradient:"linear-gradient(45deg, #34495E, #2C3E50)"},TRAILBLAZER:{gradient:"linear-gradient(45deg, #FF6F61, #D7263D)"},ELEVATE:{gradient:"linear-gradient(45deg, #7B4397, #DC2430)"},CATALYST:{gradient:"linear-gradient(45deg, #11998E, #38EF7D)"},ACCELERATOR:{gradient:"linear-gradient(45deg, #16A085, #F4D03F)"},IGNITION:{gradient:"linear-gradient(45deg, #FF512F, #DD2476)"},VISIONARY:{gradient:"linear-gradient(45deg, #FC466B, #3F5EFB)"},INNOVATOR:{gradient:"linear-gradient(45deg, #8E44AD, #3498DB)"},MOMENTUM:{gradient:"linear-gradient(45deg, #00B09B, #96C93D)"},SPARK:{gradient:"linear-gradient(45deg, #F7971E, #FFD200)"},ARCHITECT:{gradient:"linear-gradient(45deg, #2ECC71, #27AE60)"},CREATION:{gradient:"linear-gradient(45deg, #F953C6, #B91D73)"},LUMINARY:{gradient:"linear-gradient(45deg, #F1C40F, #E67E22)"},LEGEND:{gradient:"linear-gradient(45deg, #D35400, #C0392B)"},TITAN:{gradient:"linear-gradient(45deg, #2C3E50, #4CA1AF)"},BUILDER:{gradient:"linear-gradient(45deg, #7F8C8D, #95A5A6)"},SHAPER:{gradient:"linear-gradient(45deg, #34495E, #5D6D7E)"},FORGE:{gradient:"linear-gradient(45deg, #E74C3C, #C0392B)"},ASCENDANT:{gradient:"linear-gradient(45deg, #3498DB, #2ECC71)"},BEACON:{gradient:"linear-gradient(45deg, #F1C40F, #F39C12)"},VANGUARD:{gradient:"linear-gradient(45deg, #8E44AD, #9B59B6)"},SENTINEL:{gradient:"linear-gradient(45deg, #2C3E50, #34495E)"},PILLAR:{gradient:"linear-gradient(45deg, #95A5A6, #7F8C8D)"},ETHEREAL:{gradient:"linear-gradient(45deg, #7F00FF, #E100FF)"},ETERNAL:{gradient:"linear-gradient(45deg, #1D2671, #C33764)"},CORE:{gradient:"linear-gradient(90deg, #34495E 0%, #7B4397 16%, #38EF7D 33%, #FFD200 50%, #FF512F 67%, #3F5EFB 83%, #F953C6 100%)",textShadow:"0 0 6px rgba(255,255,255,0.2), 0 0 12px rgba(255,255,255,0.2)"},DEFAULT:{gradient:"linear-gradient(45deg, #bdbdbd, #9e9e9e)"}},w=e=>{let{level:i}=e;const t=(0,r.A)(),n=(0,a.useMemo)((()=>(e=>{const i=C[e]||C.DEFAULT;let t={display:"inline-block",fontWeight:"bold",textTransform:"uppercase",fontSize:{xs:"0.875rem",sm:"1rem",md:"1.2rem"},color:"transparent",backgroundClip:"text",WebkitBackgroundClip:"text",backgroundImage:i.gradient,backgroundSize:"100% 100%",margin:"0 4px"};return j.includes(e)&&(t={...t,backgroundSize:"400% 400%",animation:`${_} 10s ease infinite`,textShadow:i.textShadow?`${i.textShadow}, 0 0 8px rgba(255,255,255,0.4)`:"0 0 8px rgba(255,255,255,0.4)"}),t})(i)),[i,t]);return(0,y.jsx)(s.A,{component:"span",sx:n,children:i||"UNKNOWN"})};var k=t(9392),I=t(8978),S=t(5442);const E=a.memo((e=>{var i;let{user:t,isOwnProfile:f,headerData:_,userRole:j,children:C}=e;const E=(0,r.A)(),[F,M]=((0,S.A)(E.breakpoints.down("sm")),(0,a.useState)(null)),[D,T]=(0,a.useState)(null),L=Boolean(F),P=(0,a.useMemo)((()=>(0,y.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:{xs:"center",sm:"flex-start"}},children:[(0,y.jsx)(s.A,{variant:"body2",sx:{...A.ar.level,fontSize:{xs:"0.875rem",sm:"1rem"}},"aria-label":`Page description: ${(null===_||void 0===_?void 0:_.shortDescription)||""}`,children:null===_||void 0===_?void 0:_.shortDescription}),(null===_||void 0===_?void 0:_.tooltipDescription)&&(0,y.jsx)(k.A,{title:_.tooltipDescription,placement:"top",arrow:!0,slotProps:{popper:{sx:{[`& .${I.A.tooltip}`]:{padding:2}},modifiers:[{name:"offset",options:{offset:[0,-10]}}]}},children:(0,y.jsx)(l.A,{size:"small","aria-label":"More information about this page",sx:{p:0},children:(0,y.jsx)(p.A,{fontSize:"small"})})})]})),[null===_||void 0===_?void 0:_.shortDescription,null===_||void 0===_?void 0:_.tooltipDescription]),z=(0,a.useCallback)((e=>M(e.currentTarget)),[]),R=(0,a.useCallback)((()=>M(null)),[]),$=(0,a.useCallback)((e=>{e(),R()}),[R]),N=(0,a.useCallback)((e=>{T((i=>i===e?null:e))}),[]),O=(0,a.useMemo)((()=>["owner","admin"].includes(j)),[j]),W=(0,a.useMemo)((()=>{var e;return(null===_||void 0===_||null===(e=_.actions)||void 0===e?void 0:e.filter((e=>e.isMenuItem)))||[]}),[null===_||void 0===_?void 0:_.actions]),G=(0,a.useMemo)((()=>{var e;return(null===_||void 0===_||null===(e=_.actions)||void 0===e?void 0:e.filter((e=>!e.isMenuItem)))||[]}),[null===_||void 0===_?void 0:_.actions]),q=(0,a.useMemo)((()=>"user"!==(null===_||void 0===_?void 0:_.type)&&"page"!==(null===_||void 0===_?void 0:_.type)&&!(null===_||void 0===_||!_.onFavoriteToggle)),[null===_||void 0===_?void 0:_.type,null===_||void 0===_?void 0:_.onFavoriteToggle]),B=(0,a.useMemo)((()=>"user"!==(null===_||void 0===_?void 0:_.type)&&"page"!==(null===_||void 0===_?void 0:_.type)&&O&&W.length>0),[null===_||void 0===_?void 0:_.type,O,W.length]),V=(0,a.useMemo)((()=>"page"===(null===_||void 0===_?void 0:_.type)&&!!C||G.length>0),[null===_||void 0===_?void 0:_.type,C,G.length]);if(!t)return(0,y.jsx)(o.A,{sx:{...A.ar.card,width:{xs:"100%",customSm:"auto"}},children:(0,y.jsx)(d.A,{children:(0,y.jsx)(n.A,{sx:A.ar.content,children:(0,y.jsxs)(n.A,{children:[(0,y.jsx)(c.A,{variant:"text",width:200,height:40}),(0,y.jsx)(c.A,{variant:"text",width:100,height:20,sx:{mt:1}})]})})})});if(!_)return(0,y.jsx)(o.A,{sx:{...A.ar.card,width:{xs:"100%",customSm:"auto"}},children:(0,y.jsx)(d.A,{children:(0,y.jsxs)(n.A,{sx:A.ar.content,children:[(0,y.jsxs)(n.A,{sx:A.ar.leftSection,children:[(0,y.jsx)(s.A,{variant:"h4",sx:{...A.ar.title,fontSize:{xs:"1.5rem",customSm:"2rem",md:"2.5rem"}},"aria-label":`Username: ${t.username}`,children:t.username}),(0,y.jsxs)(s.A,{variant:"body2",sx:{...A.ar.level,fontSize:{xs:"0.875rem",customSm:"1rem"}},children:["Level: ",(0,y.jsx)(w,{level:t.access_level})]})]}),f&&C&&(0,y.jsx)(n.A,{sx:A.ar.buttonGroup,children:C})]})})});return(0,y.jsx)(o.A,{sx:{...A.ar.card,width:{xs:"100%",customSm:"auto"},position:"relative"},children:(0,y.jsxs)(d.A,{children:[q&&(0,y.jsx)(n.A,{sx:{display:{xs:"block",customSm:"none"},position:"absolute",top:8,right:8},children:(0,y.jsx)(k.A,{title:_.isFavorited?`Remove ${_.type} from favorites`:`Add ${_.type} to favorites`,children:(0,y.jsx)(l.A,{onClick:_.onFavoriteToggle,disabled:_.actionLoading,"aria-label":_.isFavorited?"Remove from favorites":"Add to favorites",children:_.isFavorited?(0,y.jsx)(b.A,{color:"warning"}):(0,y.jsx)(g.A,{})})})}),(0,y.jsxs)(n.A,{sx:A.ar.content,children:[(0,y.jsxs)(n.A,{sx:A.ar.leftSection,children:[(0,y.jsx)(s.A,{variant:"h4",sx:{...A.ar.title,fontSize:{xs:"1.5rem",customSm:"2rem",md:"2.5rem"}},"aria-label":_.titleAriaLabel||`Title: ${_.title||t.username}`,children:_.title||t.username}),_.description&&(0,y.jsx)(s.A,{variant:"body1",color:"text.secondary",sx:{mt:1,mb:2,fontSize:{xs:"0.875rem",md:"1rem"},lineHeight:1.6},"aria-label":_.descriptionAriaLabel||`Description: ${_.description}`,children:_.description}),"user"===_.type?(0,y.jsxs)(s.A,{variant:"body2",sx:{...A.ar.level,fontSize:{xs:"0.875rem",customSm:"1rem"}},children:["Level: ",(0,y.jsx)(w,{level:t.access_level})]}):"page"===_.type?P:(0,y.jsx)(n.A,{sx:A.ar.chipContainer,children:null===(i=_.chips)||void 0===i?void 0:i.map(((e,i)=>(0,y.jsx)(n.A,{sx:{position:"relative"},children:(0,y.jsx)(x.A,{label:e.label,icon:e.icon,size:"medium",variant:"outlined",color:e.color||"default",onClick:()=>N(i),sx:{...A.ar.chip,...D===i?A.ar.chipExpanded:A.ar.chipCollapsed},"aria-label":e.ariaLabel,"aria-expanded":D===i})},i)))})]}),f&&(V||q||B)&&(0,y.jsx)(n.A,{sx:A.ar.rightSection,children:(0,y.jsx)(n.A,{sx:A.ar.buttonGroup,children:(0,y.jsxs)(y.Fragment,{children:["page"===_.type&&C,G.map(((e,i)=>(0,y.jsx)(k.A,{title:e.tooltip,children:(0,y.jsx)(u.A,{onClick:e.onClick,startIcon:e.icon,sx:{...A.nT,..."delete"===e.variant&&{bgcolor:E.palette.error.main,color:E.palette.common.white,"&:hover":{bgcolor:E.palette.error.dark}}},disabled:e.disabled,"aria-label":e.ariaLabel,children:e.label})},i))),(q||B)&&(0,y.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[q&&(0,y.jsx)(k.A,{title:_.isFavorited?`Remove ${_.type} from favorites`:`Add ${_.type} to favorites`,children:(0,y.jsx)(l.A,{onClick:_.onFavoriteToggle,disabled:_.actionLoading,"aria-label":_.isFavorited?"Remove from favorites":"Add to favorites",sx:{display:{xs:"none",customSm:"inline-flex"}},children:_.isFavorited?(0,y.jsx)(b.A,{color:"warning"}):(0,y.jsx)(g.A,{})})}),B&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.A,{onClick:z,disabled:_.actionLoading,"aria-label":"More actions",children:(0,y.jsx)(h.A,{})}),(0,y.jsx)(m.A,{anchorEl:F,open:L,onClose:R,PaperProps:{sx:{mt:1,boxShadow:"0 4px 16px rgba(0,0,0,0.12)"}},children:W.map(((e,i)=>(0,y.jsx)(v.A,{onClick:()=>$(e.onClick),sx:"delete"===e.variant?{color:E.palette.error.main}:{},children:e.label},i)))})]})]})]})})})]})]})})}))},3807:(e,i,t)=>{t.d(i,{A:()=>I});var a=t(5043),r=t(6240),n=t(7353),s=t(4496),l=t(1546),o=t(3845),d=t(9392),c=t(7392),u=t(9662),m=t(579);const v=(0,u.A)((0,m.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School");var x=t(5155),p=t(8602),b=t(9320),g=t(1407),h=t(7241),A=t(3637),f=t(1007),y=t(3560),_=t(8942);const j=(0,u.A)((0,m.jsx)("path",{d:"M22 9V7h-2v2h-2v2h2v2h2v-2h2V9zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m4.51-8.95C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95m4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17"}),"GroupAdd");var C=t(1387);const w={classe:{typeLabel:e=>"group"===e.type?"Group":"Personal",tagText:e=>{var i;return(null===(i=e.tags)||void 0===i?void 0:i.length)>0?`#${e.tags[0]}`:w.classe.typeLabel(e)},navigatePath:e=>`/class/${e}`,icon:v,counters:[{key:"member_count",icon:x.A,label:"Members",source:e=>{var i,t;return(null===(i=e.stats)||void 0===i?void 0:i.member_count)||(null===(t=e.members)||void 0===t?void 0:t.length)||0}},{key:"boards",icon:p.A,label:"Boards",source:e=>{var i;return(null===(i=e.boards)||void 0===i?void 0:i.length)||0}},{key:"favorite_count",icon:b.A,label:"Favorites",source:e=>{var i;return(null===(i=e.stats)||void 0===i?void 0:i.favorite_count)||0},hideIfZero:!0},{key:"tweet_count",icon:g.A,label:"Posts",source:e=>{var i;return(null===(i=e.stats)||void 0===i?void 0:i.tweet_count)||0},hideIfZero:!0}],ownerLabel:e=>{var i,t;return e.gateName?`From: ${e.gateName}`:`Owner: ${(null===(i=e.members)||void 0===i||null===(t=i.find((e=>"owner"===(null===e||void 0===e?void 0:e.role))))||void 0===t?void 0:t.username)||"Unknown"}`},editFields:e=>{var i,t;return{class_id:e.class_id,name:e.name||"",description:e.description||"",is_public:(null===(i=e.access)||void 0===i?void 0:i.is_public)||"public"===e.visibility,visibility:e.visibility||(null!==(t=e.access)&&void 0!==t&&t.is_public?"public":"private"),type:e.type||"personal",tags:e.tags||[],gate_id:e.gate_id||"",settings:e.settings||{max_boards:100,max_members:50,board_creation_cost:50,tweet_cost:1,allow_invites:!0,require_approval:!1,ai_moderation_enabled:!0,auto_archive_after:30}}}},board:{typeLabel:e=>"group"===e.type?"Group":"Personal",tagText:e=>{var i;return(null===(i=e.tags)||void 0===i?void 0:i.length)>0?`#${e.tags[0]}`:w.board.typeLabel(e)},navigatePath:e=>`/board/${e}`,icon:p.A,counters:[{key:"member_count",icon:x.A,label:"Members",source:e=>{var i;return(null===(i=e.members)||void 0===i?void 0:i.length)||0}},{key:"tweet_count",icon:g.A,label:"Tweets",source:e=>{var i;return(null===(i=e.stats)||void 0===i?void 0:i.tweet_count)||0}}],ownerLabel:e=>{var i,t;return`Author: ${(null===(i=e.members)||void 0===i||null===(t=i.find((e=>"owner"===(null===e||void 0===e?void 0:e.role))))||void 0===t?void 0:t.username)||"Unknown"}`},editFields:e=>({board_id:e.board_id,name:e.name||"",description:e.description||"",is_public:e.is_public||"public"===e.visibility,visibility:e.is_public?"public":"private",type:e.type||"personal",tags:e.tags||[],gate_id:e.gate_id||"",class_id:e.class_id||"",settings:e.settings||{max_tweets:100,max_members:50,tweet_cost:1,favorite_cost:1,points_to_creator:1,allow_invites:!0,require_approval:!1,ai_moderation_enabled:!0,auto_archive_after:30}})},gate:{typeLabel:e=>"community"===e.type?"Community":"Organization",tagText:e=>w.gate.typeLabel(e),navigatePath:e=>`/gate/${e}`,icon:h.A,counters:[{key:"member_count",icon:x.A,label:"Members",source:e=>{var i,t;return(null===(i=e.stats)||void 0===i?void 0:i.member_count)||(null===(t=e.members)||void 0===t?void 0:t.length)||0}},{key:"classes",icon:v,label:"Classes",source:e=>{var i;return(null===(i=e.classes)||void 0===i?void 0:i.length)||0}},{key:"boards",icon:p.A,label:"Boards",source:e=>{var i;return(null===(i=e.boards)||void 0===i?void 0:i.length)||0}},{key:"favorite_count",icon:b.A,label:"Favorites",source:e=>{var i;return(null===(i=e.stats)||void 0===i?void 0:i.favorite_count)||0},hideIfZero:!0},{key:"tweet_count",icon:g.A,label:"Posts",source:e=>{var i;return(null===(i=e.stats)||void 0===i?void 0:i.tweet_count)||0},hideIfZero:!0}],ownerLabel:e=>{var i,t;return`Owner: ${(null===(i=e.members)||void 0===i||null===(t=i.find((e=>"owner"===(null===e||void 0===e?void 0:e.role))))||void 0===t?void 0:t.username)||"Unknown"}`},editFields:e=>{var i,t;return{gate_id:e.gate_id,name:e.name||"",description:e.description||"",is_public:(null===(i=e.access)||void 0===i?void 0:i.is_public)||"public"===e.visibility,visibility:e.visibility||(null!==(t=e.access)&&void 0!==t&&t.is_public?"public":"private"),type:e.type||"community",settings:e.settings||{class_creation_cost:100,board_creation_cost:50,max_members:1e3,ai_moderation_enabled:!0}}}}},k=e=>{var i,t,u,v,x;let{item:p,itemId:g,entityType:h,handleFavorite:k,setEditingItem:I,setItemToDelete:S,setDeleteDialogOpen:E,handleManageMembers:F,navigate:M,currentUser:D,token:T}=e;const L=(0,r.A)(),P=w[h],z=(0,a.useCallback)((e=>{!P||"Enter"!==e.key&&" "!==e.key||M(P.navigatePath(g))}),[M,P,g]),R=(0,a.useCallback)((()=>{P&&M(P.navigatePath(g))}),[M,P,g]);if(!P)return console.error(`Invalid entityType: ${h}`),(0,m.jsx)(n.A,{sx:{p:2,textAlign:"center",color:"error.main"},children:(0,m.jsx)(s.A,{variant:"body2",children:"Invalid card type."})});const $=((null===p||void 0===p||null===(i=p.name)||void 0===i?void 0:i.length)||0)+((null===p||void 0===p||null===(t=p.description)||void 0===t?void 0:t.length)||0),N=$>100?3:$>50?2:1,O=(null===p||void 0===p?void 0:p.is_favorited)||!1,W=(null===p||void 0===p||null===(u=p.members)||void 0===u||null===(v=u.find((e=>(null===e||void 0===e?void 0:e.anonymous_id)===(null===D||void 0===D?void 0:D.anonymous_id))))||void 0===v?void 0:v.role)||"none",G=(null===p||void 0===p?void 0:p.creator_id)===(null===D||void 0===D?void 0:D.anonymous_id),q=G||"admin"===W,B=G,V=(null===p||void 0===p||null===(x=p.access)||void 0===x?void 0:x.is_public)||"public"===(null===p||void 0===p?void 0:p.visibility)||(null===p||void 0===p?void 0:p.is_public),U="small",H={padding:"6px","&:hover":{backgroundColor:L.palette.action.hover,borderRadius:"50%"}},K={...H,color:L.palette.error.main,"&:hover":{backgroundColor:(0,l.X4)(L.palette.error.main,.08)}};return(0,m.jsxs)(n.A,{sx:{gridColumn:{xs:"span 1",md:`span ${N}`},backgroundColor:"background.paper",borderRadius:L.shape.borderRadiusMedium,p:{xs:2,md:2.5},cursor:"pointer",display:"flex",flexDirection:"column",minHeight:{xs:190,sm:210,md:210},transition:"all 0.3s ease-in-out",width:{xs:"100%",sm:"auto"},boxSizing:"border-box",position:"relative","&:hover":{backgroundColor:"background.hover",transform:"scale(1.02)"}},onClick:R,onKeyPress:z,tabIndex:0,role:"button","aria-label":`View ${h} ${(null===p||void 0===p?void 0:p.name)||`Untitled ${h.charAt(0).toUpperCase()+h.slice(1)}`}`,children:[(0,m.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1.5},children:[(0,m.jsx)(o.A,{size:"small",label:P.tagText(p),sx:{...(()=>{const e="dark"===L.palette.mode,i=null===P||void 0===P?void 0:P.typeLabel(p);return"Group"===i||"Organization"===i?{backgroundColor:e?L.palette.secondary.dark:L.palette.secondary.light,color:L.palette.secondary.contrastText}:{backgroundColor:e?L.palette.primary.dark:L.palette.primary.light,color:L.palette.primary.contrastText}})(),fontWeight:500,fontSize:"0.75rem",borderRadius:"8px",height:"26px",lineHeight:"18px",padding:"0 8px"}}),(0,m.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:{xs:.1,md:.25}},children:[q&&(0,m.jsx)(d.A,{title:`Edit ${h.charAt(0).toUpperCase()+h.slice(1)}`,children:(0,m.jsx)(c.A,{onClick:e=>{e.stopPropagation(),I(P.editFields(p))},size:U,"aria-label":`Edit ${h}`,sx:H,children:(0,m.jsx)(y.A,{fontSize:U})})}),(0,m.jsx)(d.A,{title:O?"Remove from Favorites":"Add to Favorites",children:(0,m.jsx)(c.A,{onClick:e=>{e.stopPropagation(),k(g,O)},size:U,"aria-label":O?"Remove from favorites":"Add to favorites",sx:H,children:O?(0,m.jsx)(b.A,{fontSize:U,sx:{color:L.palette.primary.main}}):(0,m.jsx)(_.A,{fontSize:U,sx:{color:L.palette.text.secondary}})})}),q&&(0,m.jsx)(d.A,{title:"Manage Members",children:(0,m.jsx)(c.A,{onClick:e=>{e.stopPropagation(),F(g)},size:U,"aria-label":`Manage ${h} members`,sx:H,children:(0,m.jsx)(j,{fontSize:U})})}),B&&(0,m.jsx)(d.A,{title:`Delete ${h.charAt(0).toUpperCase()+h.slice(1)}`,children:(0,m.jsx)(c.A,{onClick:e=>{e.stopPropagation(),S(g),E(!0)},size:U,"aria-label":`Delete ${h}`,sx:K,children:(0,m.jsx)(C.A,{fontSize:U})})})]})]}),(0,m.jsxs)(n.A,{sx:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",px:1},children:[(0,m.jsx)(s.A,{variant:"h6",sx:{fontWeight:"bold",my:.5,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",color:L.palette.text.primary,width:"100%"},children:(null===p||void 0===p?void 0:p.name)||`Untitled ${h.charAt(0).toUpperCase()+h.slice(1)}`}),(null===p||void 0===p?void 0:p.description)&&(0,m.jsx)(d.A,{title:p.description,placement:"bottom",enterDelay:300,children:(0,m.jsx)(s.A,{variant:"body2",sx:{color:L.palette.text.secondary,mt:.5,mb:1,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",width:"100%"},children:p.description})})]}),(0,m.jsxs)(n.A,{sx:{mt:"auto",pt:1.5,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.875rem"},children:[(0,m.jsx)(s.A,{variant:"caption",sx:{color:L.palette.text.secondary,fontSize:"inherit",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"40%"},children:P.ownerLabel(p)}),(0,m.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:{xs:1,md:1.5}},children:[P.counters.map((e=>(!e.hideIfZero||e.source(p)>0)&&(0,m.jsx)(d.A,{title:`${e.label}: ${e.source(p)}`,children:(0,m.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.3,color:L.palette.text.secondary},children:[(0,m.jsx)(e.icon,{fontSize:"inherit"}),(0,m.jsx)(s.A,{variant:"caption",sx:{fontSize:"inherit"},children:e.source(p)})]})},e.key))),(0,m.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.3},children:[V?(0,m.jsx)(A.A,{sx:{mb:.1},fontSize:"inherit"}):(0,m.jsx)(f.A,{sx:{color:L.palette.error.main,mb:.1},fontSize:"inherit"}),(0,m.jsx)(s.A,{variant:"caption",sx:{color:V?L.palette.text.primary:L.palette.error.main,fontWeight:500,fontSize:"inherit"},children:V?"Public":"Private"})]})]})]})]})},I=(0,a.memo)(k)},3835:(e,i,t)=>{t.d(i,{t:()=>n});var a=t(5043),r=t(1654);const n=(e,i,t,n,s)=>{const{showNotification:l}=(0,r.h)(),[o,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(!1),m=(0,a.useRef)(0),v=(0,a.useRef)(new Set),x=(0,a.useRef)(!0),[p,b]=(0,a.useState)(!0);(0,a.useEffect)((()=>{Array.isArray(e)&&e.every((e=>"function"===typeof e))?b(!0):(console.error(`useEntity: fetchFunctions must be an array of functions for ${s}, received:`,e),l(`Invalid configuration for ${s} data loading.`,"error"),b(!1),d(!1))}),[e,s,l]);const g=(0,a.useCallback)((async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(p){if(!i)return l("Authentication required.","error"),void(x.current&&(d(!1),n("/login",{state:{from:window.location.pathname}})));if(x.current){d(!0);try{const i=await Promise.all(e.map((async(e,i)=>{if(v.current.has(i)&&m.current>=3)return console.debug(`Skipping retry for ${s} fetch function ${i} due to max retries`),null;try{const r=await e(a,t);return v.current.delete(i),r}catch(r){if("AbortError"!==r.name)throw v.current.add(i),r;return null}})));return m.current=0,x.current&&d(!1),i}catch(o){var r;if("AbortError"===o.name)return void console.debug(`Aborted ${s} data load`);console.error(`Load ${s} error:`,o);const e=o.status||500;if(429===e||404===e)return console.warn(`Skipping retry for ${s} due to status ${e}`),l(429===e?"Rate limit exceeded. Please try again later.":`${s} not found.`,"error"),void(x.current&&d(!1));const i=null!==(r=o.message)&&void 0!==r&&r.includes("network")?"Network error. Please check your connection.":o.message||`Failed to load ${s} data.`;if(l(i,"error"),m.current<3&&x.current){const e=1e3*Math.pow(2,m.current);return console.debug(`Retrying ${s} load in ${e}ms (retry ${m.current+1})`),await new Promise((i=>setTimeout(i,e))),m.current+=1,g(t,a)}console.warn(`Max retries reached for ${s}`),x.current&&d(!1)}}}}),[i,n,l,e,s,p]);return(0,a.useEffect)((()=>{const e=new AbortController;return g(e.signal),()=>{e.abort(),x.current=!1}}),[g]),{isLoading:o,actionLoading:c,setActionLoading:u,loadData:g,failedIndices:Array.from(v.current)}}},4205:(e,i,t)=>{t.d(i,{w:()=>a});const a=function(e,i,t,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];const s=a.toLowerCase();return e.map((e=>{if("classes"===i){const i=r.find((i=>i.gate_id===e.gate_id));return{...e,gateName:(null===i||void 0===i?void 0:i.name)||"No Gate"}}if("boards"===i){const i=r.find((i=>i.gate_id===e.gate_id)),t=n.find((i=>i.class_id===e.class_id));return{...e,gateName:(null===i||void 0===i?void 0:i.name)||"No Gate",className:(null===t||void 0===t?void 0:t.name)||"No Class"}}return e})).filter((e=>{var i,a;if(!((e.name||"").toLowerCase().includes(s)||(e.description||"").toLowerCase().includes(s)||(e.gateName||"").toLowerCase().includes(s)||(e.className||"").toLowerCase().includes(s)||(e.tags||[]).some((e=>e.toLowerCase().includes(s)))))return!1;switch(t){case"public":return e.is_public||(null===(i=e.access)||void 0===i?void 0:i.is_public)||"public"===e.visibility;case"private":return!(e.is_public||null!==(a=e.access)&&void 0!==a&&a.is_public)||"private"===e.visibility;case"favorited":return e.is_favorited;case"group":return"group"===e.type;case"personal":return"personal"===e.type;case"community":return"community"===e.type;case"organization":return"organization"===e.type;case"gates":return!!e.gate_id;case"classes":return!!e.class_id;default:return!0}}))}},5701:(e,i,t)=>{t.d(i,{A:()=>D});var a=t(5043),r=t(6240),n=t(35),s=t(6600),l=t(5316),o=t(7353),d=t(7784),c=t(3193),u=t(9190),m=t(2221),v=t(2143),x=t(1673),p=t(4605),b=t(7843),g=t(9347),h=t(1906),A=t(6552),f=t(4834),y=t(6411),_=t(579);const j=e=>{var i,t,j,C,w,k,I,S;let{open:E,title:F,gate:M,setGate:D,onSave:T,onCancel:L,disabled:P}=e;const z=(0,r.A)(),[R,$]=(0,a.useState)({}),N=M||y.sV,O=(0,a.useMemo)((()=>{var e,i,t,a,r,n;return{name:{value:N.name||"",rules:{required:!0,minLength:3,maxLength:100}},description:{value:N.description||"",rules:{maxLength:1e3}},visibility:{value:N.visibility||"public",rules:{required:!0}},"settings.class_creation_cost":{value:null!==(e=null===(i=N.settings)||void 0===i?void 0:i.class_creation_cost)&&void 0!==e?e:100,rules:{required:!0,minValue:0}},"settings.board_creation_cost":{value:null!==(t=null===(a=N.settings)||void 0===a?void 0:a.board_creation_cost)&&void 0!==t?t:50,rules:{required:!0,minValue:0}},"settings.max_members":{value:null!==(r=null===(n=N.settings)||void 0===n?void 0:n.max_members)&&void 0!==r?r:1e3,rules:{required:!0,minValue:1,maxValue:1e4}}}}),[N]),W=(0,a.useCallback)((e=>{var i;const{name:t,value:a,type:r,checked:n}=e.target;let s="checkbox"===r?n:a;if(t.startsWith("settings.")){const e=t.split(".")[1];s="number"===r?Number(a):n,D((i=>({...i,settings:{...null===i||void 0===i?void 0:i.settings,[e]:s}})))}else D("visibility"===t?e=>({...e,visibility:a,is_public:"public"===a}):e=>({...e,[t]:s}));const l=(null===(i=O[t])||void 0===i?void 0:i.rules)||{},o=(0,f.j)(t,s,l);$((e=>({...e,[t]:o[0]||null})))}),[D,O]),G=(0,a.useCallback)((()=>{const e=(0,f.l)(O);Object.keys(e).length>0?$(e):(D((e=>({...e,is_public:"public"===(null===e||void 0===e?void 0:e.visibility)}))),T())}),[T,D,O]);return(0,_.jsxs)(n.A,{open:E,onClose:L,maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-paper":{borderRadius:z.shape.borderRadiusMedium,p:{xs:1,md:2}}},children:[(0,_.jsx)(s.A,{sx:{fontSize:{xs:"1.25rem",md:"1.5rem"}},children:F}),(0,_.jsx)(l.A,{children:(0,_.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",gap:{xs:1.5,md:2},mt:2},children:[(0,_.jsx)(d.A,{label:"Gate Name",name:"name",value:N.name||"",onChange:W,fullWidth:!0,required:!0,error:!!R.name,helperText:R.name,sx:{...A.z9,mt:0},disabled:P,inputProps:{maxLength:100},"aria-label":"Gate name"}),(0,_.jsx)(d.A,{label:"Description",name:"description",value:N.description||"",onChange:W,fullWidth:!0,multiline:!0,rows:4,error:!!R.description,helperText:R.description,sx:{...A.z9,mt:0},disabled:P,inputProps:{maxLength:1e3},"aria-label":"Gate description"}),(0,_.jsxs)(c.A,{fullWidth:!0,error:!!R.visibility,disabled:P,sx:{...A.p5,mt:0},children:[(0,_.jsx)(u.A,{children:"Visibility"}),(0,_.jsxs)(m.A,{name:"visibility",value:N.visibility||"public",onChange:W,label:"Visibility","aria-label":"Gate visibility",children:[(0,_.jsx)(v.A,{value:"public",children:"Public"}),(0,_.jsx)(v.A,{value:"private",children:"Private"})]}),R.visibility&&(0,_.jsx)(x.A,{children:R.visibility})]}),(0,_.jsx)(d.A,{label:"Class Creation Cost",name:"settings.class_creation_cost",type:"number",value:null!==(i=null===(t=N.settings)||void 0===t?void 0:t.class_creation_cost)&&void 0!==i?i:100,onChange:W,fullWidth:!0,required:!0,error:!!R["settings.class_creation_cost"],helperText:R["settings.class_creation_cost"],sx:{...A.z9,mt:0},disabled:P,inputProps:{min:0},"aria-label":"Class creation cost"}),(0,_.jsx)(d.A,{label:"Board Creation Cost",name:"settings.board_creation_cost",type:"number",value:null!==(j=null===(C=N.settings)||void 0===C?void 0:C.board_creation_cost)&&void 0!==j?j:50,onChange:W,fullWidth:!0,required:!0,error:!!R["settings.board_creation_cost"],helperText:R["settings.board_creation_cost"],sx:{...A.z9,mt:0},disabled:P,inputProps:{min:0},"aria-label":"Board creation cost"}),(0,_.jsx)(d.A,{label:"Max Members",name:"settings.max_members",type:"number",value:null!==(w=null===(k=N.settings)||void 0===k?void 0:k.max_members)&&void 0!==w?w:1e3,onChange:W,fullWidth:!0,required:!0,error:!!R["settings.max_members"],helperText:R["settings.max_members"],sx:{...A.z9,mt:0},disabled:P,inputProps:{min:1,max:1e4},"aria-label":"Maximum members"}),(0,_.jsx)(p.A,{control:(0,_.jsx)(b.A,{checked:null!==(I=null===(S=N.settings)||void 0===S?void 0:S.ai_moderation_enabled)&&void 0!==I&&I,onChange:W,name:"settings.ai_moderation_enabled",disabled:P}),label:"Enable AI Moderation",sx:{color:"text.primary"},"aria-label":"Enable AI moderation"})]})}),(0,_.jsxs)(g.A,{children:[(0,_.jsx)(h.A,{onClick:L,sx:{...A.Km,minWidth:{xs:"100%",sm:150},fontSize:{xs:"0.75rem",sm:"0.875rem"}},disabled:P,children:"Cancel"}),(0,_.jsx)(h.A,{onClick:G,sx:{...A.nT,minWidth:{xs:"100%",sm:150},fontSize:{xs:"0.75rem",sm:"0.875rem"}},disabled:P||!!Object.values(R).find((e=>e)),children:"Save"})]})]})},C=a.memo(j);var w=t(9392);const k=e=>{var i,t,y,j,C,k,I,S,E;let{open:F,title:M,classItem:D,setClass:T,onSave:L,onCancel:P,disabled:z,gates:R,fixedGateId:$}=e;const N=(0,r.A)(),[O,W]=(0,a.useState)({}),G=(0,a.useRef)(null);(0,a.useEffect)((()=>{F&&G.current&&G.current.focus()}),[F]);const q=(0,a.useMemo)((()=>{var e,i,t,a,r;return{name:{value:D.name||"",rules:{required:!0,minLength:3,maxLength:100}},description:{value:D.description||"",rules:{maxLength:1e3}},visibility:{value:D.visibility||"private",rules:{required:!0,enum:["public","private"]}},gate_id:{value:D.gate_id||"",rules:{required:"public"===D.visibility&&!$}},"settings.max_boards":{value:(null===(e=D.settings)||void 0===e?void 0:e.max_boards)||100,rules:{required:!0,minValue:1,maxValue:1e3}},"settings.max_members":{value:(null===(i=D.settings)||void 0===i?void 0:i.max_members)||50,rules:{required:!0,minValue:1,maxValue:1e4}},"settings.board_creation_cost":{value:(null===(t=D.settings)||void 0===t?void 0:t.board_creation_cost)||50,rules:{required:!0,minValue:0}},"settings.tweet_cost":{value:(null===(a=D.settings)||void 0===a?void 0:a.tweet_cost)||1,rules:{required:!0,minValue:0}},"settings.auto_archive_after":{value:(null===(r=D.settings)||void 0===r?void 0:r.auto_archive_after)||30,rules:{required:!0,minValue:1}}}}),[D,$]),B=(0,a.useCallback)((e=>{var i;const{name:t,value:a,type:r,checked:n}=e.target;let s="checkbox"===r?n:a;if(t.startsWith("settings.")){const e=t.split(".")[1];s="number"===r?Number(a):n,T((i=>({...i,settings:{...i.settings,[e]:s}})))}else T((e=>({...e,[t]:s,..."visibility"===t&&{is_public:"public"===a}})));const l=(null===(i=q[t])||void 0===i?void 0:i.rules)||{},o=(0,f.j)(t,s,l);W((e=>({...e,[t]:o[0]||null})))}),[T,q]),V=(0,a.useCallback)((()=>{const e=(0,f.l)(q);Object.keys(e).length>0?W(e):L()}),[L,q]);return(0,_.jsxs)(n.A,{open:F,onClose:P,maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-paper":{borderRadius:N.shape.borderRadiusMedium,p:{xs:1,md:2}}},"aria-labelledby":"class-form-dialog-title","aria-describedby":"class-form-dialog-description",children:[(0,_.jsx)(s.A,{id:"class-form-dialog-title",sx:{fontSize:{xs:"1.25rem",md:"1.5rem"}},children:M}),(0,_.jsx)(l.A,{children:(0,_.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",gap:{xs:1.5,md:2},mt:2},children:[(0,_.jsx)(d.A,{label:"Class Name",name:"name",value:D.name||"",onChange:B,fullWidth:!0,required:!0,error:!!O.name,helperText:O.name,sx:{...A.z9,mt:0},disabled:z,inputProps:{maxLength:100},inputRef:G,"aria-label":"Class name"}),(0,_.jsx)(d.A,{label:"Description",name:"description",value:D.description||"",onChange:B,fullWidth:!0,multiline:!0,rows:4,error:!!O.description,helperText:O.description,sx:{...A.z9,mt:0},disabled:z,inputProps:{maxLength:1e3},"aria-label":"Class description"}),(0,_.jsxs)(c.A,{fullWidth:!0,error:!!O.visibility,disabled:z,sx:{...A.p5,mt:0},children:[(0,_.jsx)(u.A,{id:"visibility-label",children:"Visibility"}),(0,_.jsxs)(m.A,{labelId:"visibility-label",name:"visibility",value:D.visibility||"private",onChange:B,label:"Visibility","aria-label":"Class visibility",children:[(0,_.jsx)(v.A,{value:"public",children:"Public"}),(0,_.jsx)(v.A,{value:"private",children:"Private"})]}),O.visibility&&(0,_.jsx)(x.A,{children:O.visibility})]}),"public"===D.visibility&&!$&&(0,_.jsxs)(c.A,{fullWidth:!0,error:!!O.gate_id,disabled:z||0===R.length,sx:{...A.p5,mt:0},children:[(0,_.jsx)(u.A,{id:"gate-label",children:"Gate"}),(0,_.jsx)(m.A,{labelId:"gate-label",name:"gate_id",value:D.gate_id||"",onChange:B,label:"Gate","aria-label":"Select gate for public class",children:0===R.length?(0,_.jsx)(v.A,{value:"",disabled:!0,children:"No gates available"}):R.map((e=>(0,_.jsx)(v.A,{value:e.gate_id,children:e.name},e.gate_id)))}),O.gate_id&&(0,_.jsx)(x.A,{children:O.gate_id})]}),$&&"public"===D.visibility&&(0,_.jsx)(d.A,{label:"Gate",value:(null===(i=R.find((e=>e.gate_id===$)))||void 0===i?void 0:i.name)||"Selected Gate",fullWidth:!0,disabled:!0,sx:{...A.z9,mt:0},"aria-label":"Selected gate"}),(0,_.jsx)(w.A,{title:"Maximum number of boards allowed in the class",children:(0,_.jsx)(d.A,{label:"Max Boards",name:"settings.max_boards",type:"number",value:(null===(t=D.settings)||void 0===t?void 0:t.max_boards)||100,onChange:B,fullWidth:!0,required:!0,error:!!O["settings.max_boards"],helperText:O["settings.max_boards"],sx:{...A.z9,mt:0},disabled:z,inputProps:{min:1,max:1e3},"aria-label":"Maximum boards"})}),(0,_.jsx)(w.A,{title:"Points required to create a new board",children:(0,_.jsx)(d.A,{label:"Board Creation Cost",name:"settings.board_creation_cost",type:"number",value:(null===(y=D.settings)||void 0===y?void 0:y.board_creation_cost)||50,onChange:B,fullWidth:!0,required:!0,error:!!O["settings.board_creation_cost"],helperText:O["settings.board_creation_cost"],sx:{...A.z9,mt:0},disabled:z,inputProps:{min:0},"aria-label":"Board creation cost"})}),(0,_.jsx)(w.A,{title:"Points required to post a tweet in the class",children:(0,_.jsx)(d.A,{label:"Tweet Cost",name:"settings.tweet_cost",type:"number",value:(null===(j=D.settings)||void 0===j?void 0:j.tweet_cost)||1,onChange:B,fullWidth:!0,required:!0,error:!!O["settings.tweet_cost"],helperText:O["settings.tweet_cost"],sx:{...A.z9,mt:0},disabled:z,inputProps:{min:0},"aria-label":"Tweet cost"})}),(0,_.jsx)(w.A,{title:"Maximum number of members allowed in the class",children:(0,_.jsx)(d.A,{label:"Max Members",name:"settings.max_members",type:"number",value:(null===(C=D.settings)||void 0===C?void 0:C.max_members)||50,onChange:B,fullWidth:!0,required:!0,error:!!O["settings.max_members"],helperText:O["settings.max_members"],sx:{...A.z9,mt:0},disabled:z,inputProps:{min:1,max:1e4},"aria-label":"Maximum members"})}),(0,_.jsx)(w.A,{title:"Days after which inactive boards are archived",children:(0,_.jsx)(d.A,{label:"Auto Archive After (days)",name:"settings.auto_archive_after",type:"number",value:(null===(k=D.settings)||void 0===k?void 0:k.auto_archive_after)||30,onChange:B,fullWidth:!0,required:!0,error:!!O["settings.auto_archive_after"],helperText:O["settings.auto_archive_after"],sx:{...A.z9,mt:0},disabled:z,inputProps:{min:1},"aria-label":"Auto archive after days"})}),(0,_.jsx)(p.A,{control:(0,_.jsx)(b.A,{checked:(null===(I=D.settings)||void 0===I?void 0:I.ai_moderation_enabled)||!1,onChange:B,name:"settings.ai_moderation_enabled",disabled:z,"aria-label":"Enable AI moderation"}),label:"Enable AI Moderation",sx:{color:"text.primary"}}),(0,_.jsx)(p.A,{control:(0,_.jsx)(b.A,{checked:(null===(S=D.settings)||void 0===S?void 0:S.allow_invites)||!1,onChange:B,name:"settings.allow_invites",disabled:z,"aria-label":"Allow invites"}),label:"Allow Invites",sx:{color:"text.primary"}}),(0,_.jsx)(p.A,{control:(0,_.jsx)(b.A,{checked:(null===(E=D.settings)||void 0===E?void 0:E.require_approval)||!1,onChange:B,name:"settings.require_approval",disabled:z,"aria-label":"Require approval"}),label:"Require Approval",sx:{color:"text.primary"}})]})}),(0,_.jsxs)(g.A,{children:[(0,_.jsx)(h.A,{onClick:P,sx:{...A.Km,minWidth:{xs:"100%",sm:150},fontSize:{xs:"0.75rem",sm:"0.875rem"}},disabled:z,"aria-label":"Cancel class form",children:"Cancel"}),(0,_.jsx)(h.A,{onClick:V,sx:{...A.nT,minWidth:{xs:"100%",sm:150},fontSize:{xs:"0.75rem",sm:"0.875rem"}},disabled:z,"aria-label":"Save class form",children:"Save"})]})]})},I=a.memo(k);var S=t(7331),E=t(633),F=t(507);const M=e=>{let{type:i,createOpen:t,editOpen:a,deleteOpen:r,memberOpen:n,item:s,setItem:l,editingItem:o,setEditingItem:d,itemToDelete:c,setItemToDelete:u,onSaveCreate:m,onSaveEdit:v,onCancelCreate:x,onCancelEdit:p,onConfirmDelete:b,onCloseDelete:g,selectedId:h,members:A,addMember:f,removeMember:y,updateMemberRole:j,onSaveMembers:w,onCancelMembers:k,disabled:M,loading:D,token:T,gates:L,classes:P,currentGate:z,currentClass:R,fixedGateId:$,fixedClassId:N,initialGateId:O,initialClassId:W}=e;const G={disabled:M,loading:D,ariaLabelledby:`${i}-dialog`};return(0,_.jsxs)(_.Fragment,{children:[(()=>{switch(i){case"gates":return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(C,{open:t,title:"Create New Gate",gate:s,setGate:l,onSave:m,onCancel:x,...G}),o&&(0,_.jsx)(C,{open:a,title:"Edit Gate",gate:o,setGate:d,onSave:v,onCancel:p,...G})]});case"classes":return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I,{open:t,title:"Create New Class",classItem:s,setClass:l,onSave:m,onCancel:x,gates:L,fixedGateId:$,initialGateId:O,currentGate:z,...G}),o&&(0,_.jsx)(I,{open:a,title:"Edit Class",classItem:o,setClass:d,onSave:v,onCancel:p,gates:L,fixedGateId:$,initialGateId:O,currentGate:z,...G})]});case"boards":return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.A,{open:t,title:"Create New Board",board:s,setBoard:l,onSave:m,onCancel:x,gates:L,classes:P,currentClass:R,initialClassId:W,fixedClassId:N,fixedGateId:$,...G}),o&&(0,_.jsx)(S.A,{open:a,title:"Edit Board",board:o,setBoard:d,onSave:v,onCancel:p,gates:L,classes:P,currentClass:R,initialClassId:W,fixedClassId:N,fixedGateId:$,...G})]});default:return null}})(),(0,_.jsx)(E.A,{open:n,title:`Manage ${"gates"===i?"Gate":"classes"===i?"Class":"Board"} Members`,gateId:"gates"===i?h:null,classId:"classes"===i?h:null,boardId:"boards"===i?h:null,token:T,members:A,addMember:f,removeMember:y,updateMemberRole:j,onSave:w,onCancel:k,...G}),(0,_.jsx)(F.A,{open:r,onClose:g,onConfirm:b,message:`Are you sure you want to delete this ${"gates"===i?"gate":"classes"===i?"class":"board"}? This action cannot be undone.`,...G})]})},D=a.memo(M)},6411:(e,i,t)=>{t.d(i,{Z6:()=>r,pI:()=>n,sV:()=>a});const a={name:"",description:"",is_public:!0,visibility:"public",type:"community",settings:{class_creation_cost:100,board_creation_cost:50,max_members:1e3,ai_moderation_enabled:!0}},r={name:"",description:"",is_public:!1,visibility:"private",gate_id:"",type:"group",settings:{max_boards:100,max_members:50,board_creation_cost:50,tweet_cost:1,allow_invites:!0,require_approval:!1,ai_moderation_enabled:!0,auto_archive_after:30},tags:[]},n={name:"",description:"",is_public:!1,visibility:"private",type:"group",gate_id:null,class_id:null,settings:{max_tweets:100,max_members:50,tweet_cost:1,favorite_cost:1,points_to_creator:1,allow_invites:!0,require_approval:!1,ai_moderation_enabled:!0,auto_archive_after:30},tags:[]}},6973:(e,i,t)=>{t.d(i,{A:()=>n});var a=t(9662),r=t(579);const n=(0,a.A)((0,r.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline")},7241:(e,i,t)=>{t.d(i,{A:()=>n});var a=t(9662),r=t(579);const n=(0,a.A)((0,r.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group")},8800:(e,i,t)=>{t.d(i,{A:()=>d});var a=t(5043),r=t(7353),n=t(8185),s=t(6552),l=t(579);const o=e=>{let{count:i=6,headerHeight:t="150px",filterHeight:a="60px",cardHeight:o="210px"}=e;return(0,l.jsxs)(r.A,{sx:{...s.iH,maxWidth:"1500px",mx:"auto"},children:[(0,l.jsx)(n.A,{variant:"rectangular",sx:{...s.mE.header,height:t}}),(0,l.jsx)(n.A,{variant:"rectangular",sx:{...s.mE.filter,height:a}}),(0,l.jsx)(r.A,{sx:{...s.LE.container},children:[...Array(i)].map(((e,i)=>(0,l.jsx)(n.A,{variant:"rectangular",sx:{...s.mE.card,height:o}},i)))})]})},d=a.memo(o)},8942:(e,i,t)=>{t.d(i,{A:()=>n});var a=t(9662),r=t(579);const n=(0,a.A)((0,r.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"}),"StarBorder")}}]);
//# sourceMappingURL=233.7d94a475.chunk.js.map